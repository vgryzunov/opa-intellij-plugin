<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.vgryzunov.opaintellijplugin</id>
    <name>OPA</name>
    <vendor>vgryzunov</vendor>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="Rego file"
                  implementationClass="com.github.vgryzunov.opaintellijplugin.lang.RegoFileType"
                  fieldName="INSTANCE"
                  language="rego"
                  extensions="rego"/>

        <!-- Highlighting -->
        <lang.parserDefinition language="rego" implementationClass="com.github.vgryzunov.opaintellijplugin.lang.parser.RegoParserDefinition" />
        <lang.syntaxHighlighterFactory language="rego" implementationClass="com.github.vgryzunov.opaintellijplugin.ide.highlight.RegoHighlighterFactory"/>

        <!-- Annotator -->
        <annotator language="rego" implementationClass="com.github.vgryzunov.opaintellijplugin.ide.highlight.RegoHighlighterAnnotator"/>
        <annotator language="rego" implementationClass="com.github.vgryzunov.opaintellijplugin.ide.highlight.RegoSyntaxErrorAnnotator"/>

        <moduleType id="REGO_MODULE" implementationClass="com.github.vgryzunov.opaintellijplugin.module.RegoModuleType"/>
        <moduleBuilder builderClass="com.github.vgryzunov.opaintellijplugin.module.RegoModuleBuilder" />
        <configurationType implementation="com.github.vgryzunov.opaintellijplugin.ide.runconfig.OpaEvalRunConfigurationType"/>
        <configurationType implementation="com.github.vgryzunov.opaintellijplugin.ide.runconfig.test.OpaTestRunConfigurationType"/>

        <runConfigurationProducer implementation="com.github.vgryzunov.opaintellijplugin.ide.runconfig.producer.OpaEvalRunConfigurationProducer" />
        <runConfigurationProducer implementation="com.github.vgryzunov.opaintellijplugin.ide.runconfig.test.producer.OpaTestRunConfigurationProducer" />

        <runLineMarkerContributor language="rego" implementationClass="com.github.vgryzunov.opaintellijplugin.ide.linemarkers.OpaCommandRunLineMarker"/>

    </extensions>

</idea-plugin>
